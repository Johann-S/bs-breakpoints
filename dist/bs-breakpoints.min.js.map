{"version":3,"file":"bs-breakpoints.min.js","sources":["../src/polyfill.js","../src/index.js"],"sourcesContent":["(() => {\n  // Add polyfill for Custom Events\n  function CustomEvent (ev, params) {\n    const evt = document.createEvent('CustomEvent')\n    params = params || { bubbles: false, cancelable: false, detail: undefined }\n    evt.initCustomEvent(ev, params.bubbles, params.cancelable, params.detail)\n    return evt\n  }\n\n  if (typeof window.CustomEvent !== 'function') {\n    CustomEvent.prototype = window.Event.prototype\n    window.CustomEvent = CustomEvent\n  }\n})()\n","import './polyfill'\n\nconst breakPoints = {\n  xSmall: {\n    min: 0,\n    max: 575\n  },\n  small: {\n    min: 576,\n    max: 767\n  },\n  medium: {\n    min: 768,\n    max: 991\n  },\n  large: {\n    min: 992,\n    max: 1199\n  },\n  xLarge: {\n    min: 1200,\n    max: Infinity\n  }\n}\n\nlet breakPointsDetected = false\nlet currentBreakpoint = null\n\nconst Events = {\n  INIT: 'init.bs.breakpoint',\n  NEW: 'new.bs.breakpoint'\n}\n\nconst getJQuery = () => window.jQuery\n\nconst getBreakPoints = () => {\n  let minSmall = parseInt(window.getComputedStyle(document.documentElement).getPropertyValue('--breakpoint-sm'), 10)\n  let minMedium = parseInt(window.getComputedStyle(document.documentElement).getPropertyValue('--breakpoint-md'), 10)\n  let minLarge = parseInt(window.getComputedStyle(document.documentElement).getPropertyValue('--breakpoint-lg'), 10)\n  let minXlarge = parseInt(window.getComputedStyle(document.documentElement).getPropertyValue('--breakpoint-xl'), 10)\n\n  if (isNaN(minSmall) && isNaN(minMedium) && isNaN(minLarge) && isNaN(minXlarge)) { // Bootstrap 5 adds a prefix to the breakpoints\n    minSmall = parseInt(window.getComputedStyle(document.documentElement).getPropertyValue('--bs-breakpoint-sm'), 10);\n    minMedium = parseInt(window.getComputedStyle(document.documentElement).getPropertyValue('--bs-breakpoint-md'), 10);\n    minLarge = parseInt(window.getComputedStyle(document.documentElement).getPropertyValue('--bs-breakpoint-lg'), 10);\n    minXlarge = parseInt(window.getComputedStyle(document.documentElement).getPropertyValue('--bs-breakpoint-xl'), 10);\n  }\n\n  // update xSmall\n  breakPoints.xSmall.max = minSmall - 1\n\n  // update small\n  breakPoints.small.min = minSmall\n  breakPoints.small.max = minMedium - 1\n\n  // update medium\n  breakPoints.medium.min = minMedium\n  breakPoints.medium.max = minLarge - 1\n\n  // update large\n  breakPoints.large.min = minLarge\n  breakPoints.large.max = minXlarge - 1\n\n  // update XL\n  breakPoints.xLarge.min = minXlarge\n\n  breakPointsDetected = true\n}\n\nconst _detectBreakPoint = () => {\n  const widthWindow = Math.max(document.documentElement.clientWidth, window.innerWidth || 0)\n\n  for (const key in breakPoints) {\n    if (widthWindow <= breakPoints[key].max && widthWindow >= breakPoints[key].min) {\n      return key\n    }\n  }\n\n  return currentBreakpoint\n}\n\nconst dispatchBreakpoint = (breakPointKey, eventName = Events.NEW) => {\n  if (!currentBreakpoint || currentBreakpoint !== breakPointKey) {\n    currentBreakpoint = breakPointKey\n    const $ = getJQuery()\n\n    if ($) {\n      const $event = $.Event(eventName, {\n        breakpoint: breakPointKey\n      })\n\n      $(window).trigger($event)\n    } else {\n      const event = new window.CustomEvent(eventName, {\n        detail: breakPointKey\n      })\n\n      window.dispatchEvent(event)\n    }\n  }\n}\n\nconst bsBreakpoints = {\n  init () {\n    getBreakPoints()\n    dispatchBreakpoint(_detectBreakPoint(), Events.INIT)\n\n    window.addEventListener('resize', () => {\n      dispatchBreakpoint(_detectBreakPoint())\n    })\n  },\n\n  detectBreakpoint () {\n    if (!breakPointsDetected) {\n      getBreakPoints()\n    }\n\n    currentBreakpoint = _detectBreakPoint()\n    return currentBreakpoint\n  },\n\n  getCurrentBreakpoint () {\n    return currentBreakpoint\n  }\n}\n\nexport default bsBreakpoints\n"],"names":["CustomEvent","ev","params","evt","document","createEvent","bubbles","cancelable","detail","undefined","initCustomEvent","window","prototype","Event","getBreakPoints","minSmall","parseInt","getComputedStyle","documentElement","getPropertyValue","minMedium","minLarge","minXlarge","isNaN","breakPoints","xSmall","max","small","min","medium","large","xLarge","breakPointsDetected","_detectBreakPoint","widthWindow","Math","clientWidth","innerWidth","key","currentBreakpoint","dispatchBreakpoint","breakPointKey","eventName","$","$event","event","Events","jQuery","breakpoint","trigger","dispatchEvent","Infinity","init","addEventListener","detectBreakpoint","getCurrentBreakpoint"],"mappings":";;;;;4MAEWA,EAAaC,EAAIC,OAClBC,EAAMC,SAASC,YAAY,sBACjCH,EAASA,GAAU,CAAEI,SAAS,EAAOC,YAAY,EAAOC,YAAQC,GAChEN,EAAIO,gBAAgBT,EAAIC,EAAOI,QAASJ,EAAOK,WAAYL,EAAOM,QAC3DL,EAGyB,mBAAvBQ,OAAOX,cAChBA,EAAYY,UAAYD,OAAOE,MAAMD,UACrCD,OAAOX,YAAcA,GCwBF,SAAjBc,QACAC,EAAWC,SAASL,OAAOM,iBAAiBb,SAASc,iBAAiBC,iBAAiB,mBAAoB,IAC3GC,EAAYJ,SAASL,OAAOM,iBAAiBb,SAASc,iBAAiBC,iBAAiB,mBAAoB,IAC5GE,EAAWL,SAASL,OAAOM,iBAAiBb,SAASc,iBAAiBC,iBAAiB,mBAAoB,IAC3GG,EAAYN,SAASL,OAAOM,iBAAiBb,SAASc,iBAAiBC,iBAAiB,mBAAoB,IAE5GI,MAAMR,IAAaQ,MAAMH,IAAcG,MAAMF,IAAaE,MAAMD,KAClEP,EAAWC,SAASL,OAAOM,iBAAiBb,SAASc,iBAAiBC,iBAAiB,sBAAuB,IAC9GC,EAAYJ,SAASL,OAAOM,iBAAiBb,SAASc,iBAAiBC,iBAAiB,sBAAuB,IAC/GE,EAAWL,SAASL,OAAOM,iBAAiBb,SAASc,iBAAiBC,iBAAiB,sBAAuB,IAC9GG,EAAYN,SAASL,OAAOM,iBAAiBb,SAASc,iBAAiBC,iBAAiB,sBAAuB,KAIjHK,EAAYC,OAAOC,IAAMX,EAAW,EAGpCS,EAAYG,MAAMC,IAAMb,EACxBS,EAAYG,MAAMD,IAAMN,EAAY,EAGpCI,EAAYK,OAAOD,IAAMR,EACzBI,EAAYK,OAAOH,IAAML,EAAW,EAGpCG,EAAYM,MAAMF,IAAMP,EACxBG,EAAYM,MAAMJ,IAAMJ,EAAY,EAGpCE,EAAYO,OAAOH,IAAMN,EAEzBU,GAAsB,EAGE,SAApBC,QACEC,EAAcC,KAAKT,IAAItB,SAASc,gBAAgBkB,YAAazB,OAAO0B,YAAc,OAEnF,IAAMC,KAAOd,KACZU,GAAeV,EAAYc,GAAKZ,KAAOQ,GAAeV,EAAYc,GAAKV,WAClEU,SAIJC,EAGkB,SAArBC,EAAsBC,EAAeC,OAGjCC,EAGEC,EAMAC,WAZ+BH,IAAAA,EAAYI,GAChDP,GAAqBA,IAAsBE,IAC9CF,EAAoBE,GACdE,EAnDchC,OAAOoC,SAsDnBH,EAASD,EAAE9B,MAAM6B,EAAW,CAChCM,WAAYP,IAGdE,EAAEhC,QAAQsC,QAAQL,KAEZC,EAAQ,IAAIlC,OAAOX,YAAY0C,EAAW,CAC9ClC,OAAQiC,IAGV9B,OAAOuC,cAAcL,KA/F3B,IAAMrB,EAAc,CAClBC,OAAQ,CACNG,IAAK,EACLF,IAAK,KAEPC,MAAO,CACLC,IAAK,IACLF,IAAK,KAEPG,OAAQ,CACND,IAAK,IACLF,IAAK,KAEPI,MAAO,CACLF,IAAK,IACLF,IAAK,MAEPK,OAAQ,CACNH,IAAK,KACLF,IAAKyB,EAAAA,IAILnB,GAAsB,EACtBO,EAAoB,KAElBO,EACE,qBADFA,EAEC,0BAwEe,CACpBM,gBACEtC,IACA0B,EAAmBP,IAAqBa,GAExCnC,OAAO0C,iBAAiB,SAAU,WAChCb,EAAmBP,QAIvBqB,mCACOtB,GACHlB,IAGFyB,EAAoBN,KAItBsB,uCACShB"}