{"version":3,"file":"bs-breakpoints.js","sources":["../src/polyfill.js","../src/index.js"],"sourcesContent":["(() => {\n  // Add polyfill for Custom Events\n  function CustomEvent (ev, params) {\n    const evt = document.createEvent('CustomEvent')\n    params = params || { bubbles: false, cancelable: false, detail: undefined }\n    evt.initCustomEvent(ev, params.bubbles, params.cancelable, params.detail)\n    return evt\n  }\n\n  if (typeof window.CustomEvent !== 'function') {\n    CustomEvent.prototype = window.Event.prototype\n    window.CustomEvent = CustomEvent\n  }\n})()\n","import './polyfill'\n\nconst breakPoints = {\n  xSmall: {\n    min: 0,\n    max: 575\n  },\n  small: {\n    min: 576,\n    max: 767\n  },\n  medium: {\n    min: 768,\n    max: 991\n  },\n  large: {\n    min: 992,\n    max: 1199\n  },\n  xLarge: {\n    min: 1200,\n    max: Infinity\n  }\n}\n\nlet breakPointsDetected = false\nlet currentBreakpoint = null\n\nconst Events = {\n  INIT: 'init.bs.breakpoint',\n  NEW: 'new.bs.breakpoint'\n}\n\nconst getJQuery = () => window.jQuery\n\nconst getBreakPoints = () => {\n  let minSmall = parseInt(window.getComputedStyle(document.documentElement).getPropertyValue('--breakpoint-sm'), 10)\n  let minMedium = parseInt(window.getComputedStyle(document.documentElement).getPropertyValue('--breakpoint-md'), 10)\n  let minLarge = parseInt(window.getComputedStyle(document.documentElement).getPropertyValue('--breakpoint-lg'), 10)\n  let minXlarge = parseInt(window.getComputedStyle(document.documentElement).getPropertyValue('--breakpoint-xl'), 10)\n\n  if (isNaN(minSmall) && isNaN(minMedium) && isNaN(minLarge) && isNaN(minXlarge)) { // Bootstrap 5 adds a prefix to the breakpoints\n    minSmall = parseInt(window.getComputedStyle(document.documentElement).getPropertyValue('--bs-breakpoint-sm'), 10);\n    minMedium = parseInt(window.getComputedStyle(document.documentElement).getPropertyValue('--bs-breakpoint-md'), 10);\n    minLarge = parseInt(window.getComputedStyle(document.documentElement).getPropertyValue('--bs-breakpoint-lg'), 10);\n    minXlarge = parseInt(window.getComputedStyle(document.documentElement).getPropertyValue('--bs-breakpoint-xl'), 10);\n  }\n\n  // update xSmall\n  breakPoints.xSmall.max = minSmall - 1\n\n  // update small\n  breakPoints.small.min = minSmall\n  breakPoints.small.max = minMedium - 1\n\n  // update medium\n  breakPoints.medium.min = minMedium\n  breakPoints.medium.max = minLarge - 1\n\n  // update large\n  breakPoints.large.min = minLarge\n  breakPoints.large.max = minXlarge - 1\n\n  // update XL\n  breakPoints.xLarge.min = minXlarge\n\n  breakPointsDetected = true\n}\n\nconst _detectBreakPoint = () => {\n  const widthWindow = Math.max(document.documentElement.clientWidth, window.innerWidth || 0)\n\n  for (const key in breakPoints) {\n    if (widthWindow <= breakPoints[key].max && widthWindow >= breakPoints[key].min) {\n      return key\n    }\n  }\n\n  return currentBreakpoint\n}\n\nconst dispatchBreakpoint = (breakPointKey, eventName = Events.NEW) => {\n  if (!currentBreakpoint || currentBreakpoint !== breakPointKey) {\n    currentBreakpoint = breakPointKey\n    const $ = getJQuery()\n\n    if ($) {\n      const $event = $.Event(eventName, {\n        breakpoint: breakPointKey\n      })\n\n      $(window).trigger($event)\n    } else {\n      const event = new window.CustomEvent(eventName, {\n        detail: breakPointKey\n      })\n\n      window.dispatchEvent(event)\n    }\n  }\n}\n\nconst bsBreakpoints = {\n  init () {\n    getBreakPoints()\n    dispatchBreakpoint(_detectBreakPoint(), Events.INIT)\n\n    window.addEventListener('resize', () => {\n      dispatchBreakpoint(_detectBreakPoint())\n    })\n  },\n\n  detectBreakpoint () {\n    if (!breakPointsDetected) {\n      getBreakPoints()\n    }\n\n    currentBreakpoint = _detectBreakPoint()\n    return currentBreakpoint\n  },\n\n  getCurrentBreakpoint () {\n    return currentBreakpoint\n  }\n}\n\nexport default bsBreakpoints\n"],"names":["CustomEvent","ev","params","evt","document","createEvent","bubbles","cancelable","detail","undefined","initCustomEvent","window","prototype","Event","breakPoints","xSmall","min","max","small","medium","large","xLarge","Infinity","breakPointsDetected","currentBreakpoint","Events","INIT","NEW","getJQuery","jQuery","getBreakPoints","minSmall","parseInt","getComputedStyle","documentElement","getPropertyValue","minMedium","minLarge","minXlarge","isNaN","_detectBreakPoint","widthWindow","Math","clientWidth","innerWidth","key","dispatchBreakpoint","breakPointKey","eventName","$","$event","breakpoint","trigger","event","dispatchEvent","bsBreakpoints","init","addEventListener","detectBreakpoint","getCurrentBreakpoint"],"mappings":"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"}